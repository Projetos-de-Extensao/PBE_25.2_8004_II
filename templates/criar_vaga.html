{% extends "base.html" %}
{% load static %}

{% block title %}Criar Nova Vaga{% endblock %}

{% block content %}
<div class="container mt-5" style="max-width: 600px;">
  <div class="card shadow-sm" style="border-radius: 18px;">
    <div class="card-body">
      <h2 class="mb-4" style="color:#0b2545; font-weight:700;">Criar Nova Vaga</h2>
      
      {% if messages %}
        <div class="mb-2">
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} py-2 mb-1" role="alert">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
      
      {% if erro %}
        <div class="alert alert-danger py-2 mb-3" role="alert">
          {{ erro }}
        </div>
      {% endif %}
      
      <form method="post" novalidate>
        {% csrf_token %}
        <div class="form-group mb-3">
          <label for="id_titulo" class="fw-semibold">Título da Vaga</label>
          <input type="text" name="titulo" id="id_titulo" class="form-control" placeholder="Título da vaga" required>
        </div>
        
        <div class="form-group mb-3">
          <label for="id_disciplina" class="fw-semibold">Disciplina</label>
          <select name="disciplina" id="id_disciplina" class="form-control" required>
            <option value="">Selecione a disciplina</option>
            {% for disciplina in disciplinas %}
              <option value="{{ disciplina.id }}">{{ disciplina.nome }} ({{ disciplina.codigo }})</option>
            {% endfor %}
          </select>
        </div>
        
        <div class="form-group mb-3">
          <label for="id_descricao" class="fw-semibold">Descrição</label>
          <textarea name="descricao" id="id_descricao" class="form-control" rows="4" placeholder="Descreva a vaga" required></textarea>
        </div>
        
        <div class="form-group mb-3"> 
          <label for="crminimo" class="fw-semibold">CR Mínimo (opcional):</label>
          <input type="number" id="crminimo" name="crminimo" step="0.1" placeholder="Ex: 7.5" class="form-control">
        </div>
        
        <div class="form-group mb-3">
          <label for="id_statusvaga" class="fw-semibold">Status</label>
          <select name="statusvaga" id="id_statusvaga" class="form-control" required>
            <option value="aberta">Aberta</option>
            <option value="fechada">Fechada</option>
          </select>
        </div>
        
        <button type="submit" class="btn btn-success w-100" style="font-weight:700; border-radius:999px;">Criar Vaga</button>
        
        <div class="mt-3 text-center">
          <a href="{% url 'dashboard_professor' %}" style="font-size:0.85rem; text-decoration:none;">← Voltar para o Dashboard</a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}